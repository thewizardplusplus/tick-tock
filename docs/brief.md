### ![](logo/logo.png) Краткое описание

Tick-tock — интерпретируемый высокоуровневый язык программирования. Представляет собой конкурентную (по модели акторов) машину Тьюринга.

#### Структура программы

Программы на данном языке представляют собой список акторов. Каждый актор имеет текущее состояние (по умолчанию — `__initialization__`) и список всех поддерживаемых состояний. Каждое из состояний характеризуется именем (уникальным в пределах актора) и списком обработчиков сообщений. Обработчик сообщений так же имеет имя (уникальное в пределах состояния) и список команд. Например:

```
actor
  state __initialization__()
    message __initialize__()
      outln("Hello, world!")
    ;
  ;
;
```

Работа программы заключается в обмене сообщениями между акторами, переключении их состояний и выполнении соответствующих принятым сообщениям команд.

У каждого актора есть очередь входящих сообщений, имеющая некоторый размер. Актор по очереди забирает по одному сообщению из очереди, выбирает список обработчиков, соответствующий текущему состоянию, и ищет среди них соответствующий принятому сообщению. После чего выполняет команды из него.

Ключевых команд две:

- `send` отправляет сообщение всем акторам;
- `set` переключает состояние у того актора, в котором она указана.

Выполнение скрипта начинается с автоматической рассылки всем акторам сообщения `__initialize__`.

#### Гарантии выполнения

Акторы работают независимо друг от друга — конкурентно.

Акторы обрабатывают строго по одному сообщению за раз — обработка принятого сообщения будет обязательно полностью завершена до начала обработки следующего.

Команда `send` выполняется асинхронно. Таким образом побочные эффекты последующей команды (в том числе другой команды `send`) могут возникнуть до побочных эффектов предыдующей команды `send`.

Команда `set` выполняется синхронно. Таким образом следующее сообщение обязательно будет обрабатываться уже одним из обработчиков того состояния, которое будет установлено данной командой.

Каждый актор обрабатывает все рассылаемые сообщения. Так что, если в его текущем состоянии имеется подходящий обработчик, сообщение обязательно будет обработано. В этом случае потерь сообщений быть не может.
